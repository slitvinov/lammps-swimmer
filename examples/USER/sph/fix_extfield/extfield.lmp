echo               both
dimension          3
units              si
atom_modify        map array sort 0 0
atom_style         meso
comm_modify    vel yes

#2D box
# domain size
variable          Lx equal 10
# smothing length
variable          h equal 1

variable          alpha equal 1.0

variable          nLx equal -${Lx}
region            box block 0 ${Lx} 0 ${Lx} ${nLx} ${Lx} units box

create_box         2 box

# run 
create_atoms 1 single 5. 5. 5.  units box
create_atoms 2 single 5.5 5. 5.  units box

mass         1 1
mass         2 2

pair_style         sph/rhosum  1
pair_coeff         * *     lucy ${h}

# do full time integration
fix                integrate_fix_full all  meso
compute            rho_peratom all meso_rho/atom

fix                ef all extfield 1 2 3 extfield.in

neighbor           0 bin
timestep           0

fix extra all print 1 "$(f_ef[1])" file outpt.dat screen no
run                1
