LAMMPS (7 Jul 2009)
# 2d friction simulation

dimension	2
boundary	p s p

atom_style	atomic
neighbor	0.3 bin
neigh_modify	delay 5

# create geometry

lattice		hex 0.9
Lattice spacing in x,y,z = 1.1327 1.96189 1.1327
region		box block 0 50 0 22 -0.25 0.25
create_box	4 box
Created orthogonal box = (0 0 -0.283174) to (56.6348 43.1615 0.283174)
  2 by 2 by 1 processor grid

mass		1 1.0
mass		2 1.0
mass		3 1.0
mass		4 1.0

# atom regions

region          lo-fixed block INF INF INF 1.1 INF INF
region          lo-slab block INF INF INF 7 INF INF
region          above-lo block INF INF INF 7 INF INF side out
region          hi-fixed block INF INF 20.9 INF INF INF
region          hi-slab block INF INF 15 INF INF INF
region          below-hi block INF INF 15 INF INF INF side out
region		lo-asperity sphere 32 7 0 8
region		hi-asperity sphere 18 15 0 8
region		lo-half-sphere intersect 2 lo-asperity above-lo
region		hi-half-sphere intersect 2 hi-asperity below-hi

# create 2 surfaces with asperities

create_atoms	1 region lo-slab
Created 750 atoms
create_atoms	1 region hi-slab
Created 750 atoms
create_atoms	2 region lo-half-sphere
Created 112 atoms
create_atoms	3 region hi-half-sphere
Created 112 atoms

# LJ potentials

pair_style	lj/cut 2.5
pair_coeff	* * 1.0 1.0 2.5

# define groups

group	        lo region lo-slab
750 atoms in group lo
group		lo type 2
862 atoms in group lo
group		hi region hi-slab
750 atoms in group hi
group		hi type 3
862 atoms in group hi
group		lo-fixed region lo-fixed
150 atoms in group lo-fixed
group		hi-fixed region hi-fixed
150 atoms in group hi-fixed
group		boundary union lo-fixed hi-fixed
300 atoms in group boundary
group		mobile subtract all boundary
1424 atoms in group mobile

set		group lo-fixed type 4
  150 settings made for type
set		group hi-fixed type 4
  150 settings made for type

# initial velocities

compute         new mobile temp/partial 0 1 0
velocity	mobile create 0.1 482748 temp new
velocity	hi set 1.0 0.0 0.0 sum yes

# fixes

fix		1 all nve
fix		2 boundary setforce 0.0 0.0 0.0
fix		3 mobile temp/rescale 200 0.1 0.1 0.02 1.0
fix_modify	3 temp new

# Run

timestep	0.0025
thermo		1000
thermo_modify	temp new

dump		1 all atom 500 dump.friction
run		20000
Memory usage per processor = 1.69136 Mbytes
Step Temp E_pair E_mol TotEng Press Volume 
       0          0.1   -3.1333672            0   -3.0921259   -1.1440102    2444.4558 
    1000  0.081958665   -3.0927273            0   -3.0589265 -0.021850399    2444.4558 
    2000  0.082641883   -3.0850764            0   -3.0509938  -0.44968978    2444.4558 
    3000  0.092293442   -3.0748001            0   -3.0367371  -0.25358115    2444.4558 
    4000  0.096012911   -3.0565129            0   -3.0169159 -0.027674947    2444.4558 
    5000          0.1   -3.0465555            0   -3.0053142  -0.09934336    2444.4558 
    6000   0.11642983   -3.0390782            0    -2.991061  -0.21038719    2444.4558 
    7000   0.11597773   -3.0331763            0   -2.9853456  -0.46354951    2444.4558 
    8000   0.11937916   -3.0305564            0   -2.9813229  -0.30779256    2444.4558 
    9000   0.11110731   -3.0274253            0   -2.9816032   -0.5245514    2444.4558 
   10000   0.11533593   -3.0167931            0    -2.969227   -0.3589085    2444.4558 
   11000   0.11347587   -3.0130738            0   -2.9662749  -0.47723571    2444.4558 
   12000   0.10688909   -3.0229092            0   -2.9788267  -0.31337183    2444.4558 
   13000   0.11881914   -3.0191983            0   -2.9701958  -0.43871352    2444.4558 
   14000   0.10970971   -3.0345115            0   -2.9892658  -0.26475254    2444.4558 
   15000   0.10683593    -3.030202            0   -2.9861414  -0.37883026    2444.4558 
   16000   0.11039182   -3.0315771            0   -2.9860501  -0.31830843    2444.4558 
   17000   0.11294566   -3.0314496            0   -2.9848693  -0.34449141    2444.4558 
   18000   0.11747267   -3.0330363            0    -2.984589  -0.21439976    2444.4558 
   19000   0.11287946   -3.0392425            0   -2.9926895  -0.38778831    2444.4558 
   20000   0.10942894   -3.0360473            0   -2.9909174   -0.3375786    2444.4558 
Loop time of 10.1725 on 4 procs for 20000 steps with 1724 atoms

Pair  time (%) = 2.58861 (25.4472)
Neigh time (%) = 0.120185 (1.18147)
Comm  time (%) = 5.72797 (56.3083)
Outpt time (%) = 0.114749 (1.12803)
Other time (%) = 1.621 (15.9351)

Nlocal:    431 ave 494 max 376 min
Histogram: 1 0 1 0 0 0 1 0 0 1
Nghost:    95 ave 124 max 75 min
Histogram: 1 1 0 0 1 0 0 0 0 1
Neighs:    3578.5 ave 4170 max 3130 min
Histogram: 1 1 0 0 0 1 0 0 0 1

Total # of neighbors = 14314
Ave neighs/atom = 8.30278
Neighbor list builds = 703
Dangerous builds = 0
