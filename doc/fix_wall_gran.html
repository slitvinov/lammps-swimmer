<HTML>
<CENTER><A HREF = "http://lammps.sandia.gov">LAMMPS WWW Site</A> - <A HREF = "Manual.html">LAMMPS Documentation</A> - <A HREF = "Section_commands.html#comm">LAMMPS Commands</A> 
</CENTER>






<HR>

<H3>fix wall/gran command 
</H3>
<P><B>Syntax:</B>
</P>
<PRE>fix ID group-ID wall/gran wallstyle args keyword values ... 
</PRE>
<UL><LI>ID, group-ID are documented in <A HREF = "fix.html">fix</A> command 

<LI>wall/gran = style name of this fix command 

<LI>style = <I>xplane</I> or <I>yplane</I> or <I>zplane</I> or <I>zcylinder</I> 

<LI>args = list of arguments for a particular style 

<PRE>  <I>xplane</I> or <I>yplane</I> or <I>zplane</I> args = lo hi gamma xmu
    lo,hi = position of lower and upper plane (distance units), either can be NULL)
    gamman = damping coeff for normal direction collisions with wall
    xmu = friction coeff for the wall
  <I>zcylinder</I> args = radius gamma xmu
    radius = cylinder radius (distance units)
    gamman = damping coeff for normal direction collisions with wall
    xmu = friction coeff for the wall 
</PRE>
<LI>zero or more keyword/value pairs may be appended to args 

<LI>keyword = <I>wiggle</I> or <I>shear</I> 

<PRE>  <I>wiggle</I> values = dim amplitude period
    dim = <I>x</I> or <I>y</I> or <I>z</I>
    amplitude = size of oscillation (distance units)
    period = time of oscillation (time units)
  <I>shear</I> values = dim vshear
    dim = <I>x</I> or <I>y</I> or <I>z</I>
    vshear = magnitude of shear velocity (velocity units) 
</PRE>

</UL>
<P><B>Examples:</B>
</P>
<PRE>fix 1 all wall/gran xplane -10.0 10.0 50.0 0.5
fix 2 all wall/gran zcylinder 15.0 50.0 0.5 wiggle z 3.0 2.0
fix 1 all wall/gran zplane 0.0 NULL 100.0 0.5 
</PRE>
<P><B>Description:</B>
</P>
<P>Bound the simulation domain of a granular system with a frictional
wall.  All particles in the group interact with the wall when they are
close enough to touch it.
</P>
<P>The <I>wallstyle</I> can be planar or cylindrical.  The 3 planar options
specify a pair of walls in a dimension.  Wall positions are given by
<I>lo</I> and <I>hi</I>.  Either of the values can be specified as NULL if a
single wall is desired.  For a <I>zcylinder</I> wallstyle, the cylinder's
axis is at x = y = 0.0, and the radius of the cylinder is specified.
For all wallstyles, a damping and friction coefficient for
particle-wall interactions are also specified.
</P>
<P>Optionally, the wall can be moving, if the <I>wiggle</I> or <I>shear</I>
keywords are appended.  Both keywords cannot be used together.
</P>
<P>For the <I>wiggle</I> keyword, the wall oscillates sinusoidally, similar to
the oscillations of frozen particles specified by the
<A HREF = "fix_wiggle.html">fix_wiggle</A> command.  This is useful in packing
simulations of granular particles.  The arguments to the <I>wiggle</I>
keyword specify a dimension for the motion, as well as it's
<I>amplitude</I> and <I>period</I>.  Note that if the dimension is in the plane
of the wall, this is effectively a shearing motion.  If the dimension
is perpendicular to the wall, it is more of a shaking motion.  A
<I>zcylinder</I> wall can only be wiggled in the z dimension.
</P>
<P>Each timestep, the position of a wiggled wall in the appropriate <I>dim</I>
is set according to this equation:
</P>
<PRE>position = pos0 + A - A cos (omega * delta) 
</PRE>
<P>where <I>pos0</I> is the position at the time the fix was specified, <I>A</I> is
the <I>amplitude</I>, <I>omega</I> is 2 PI / <I>period</I>, and <I>delta</I> is the
elapsed time since the fix was specified.  The velocity of the wall is
set to the derivative of this expression.
</P>
<P>For the <I>shear</I> keyword, the wall moves continuously in the specified
dimension with velocity <I>vshear</I>.  The dimension must be tangential to
walls with a planar <I>wallstyle</I>, e.g. in the <I>y</I> or <I>z</I> directions for
an <I>xplane</I> wall.  For <I>zcylinder</I> walls, a dimension of <I>z</I> means the
cylinder is moving in the z-direction along it's axis.  A dimension of
<I>x</I> or <I>y</I> means the cylinder is spinning around the z-axis, either in
the clockwise direction for <I>vshear</I> > 0 or counter-clockwise for
<I>vshear</I> < 0.  In this case, <I>vshear</I> is the tangential velocity of
the wall at whatever <I>radius</I> has been defined.
</P>
<P><B>Restart, fix_modify, output, run start/stop, minimize info:</B>
</P>
<P>This fix writes the shear friction state of atoms interacting with the
wall to <A HREF = "restart.html">binary restart files</A>, so that a simulation can
continue correctly if granular potentials with shear "history" effects
are being used.  See the <A HREF = "read_restart.html">read_restart</A> command for
info on how to re-specify a fix in an input script that reads a
restart file, so that the operation of the fix continues in an
uninterrupted fashion.
</P>
<P>None of the <A HREF = "fix_modify.html">fix_modify</A> options are relevant to this
fix.  No global scalar or vector or per-atom quantities are stored by
this fix for access by various <A HREF = "Section_howto.html#4_15">output
commands</A>.  No parameter of this fix can be
used with the <I>start/stop</I> keywords of the <A HREF = "run.html">run</A> command.
This fix is not invoked during <A HREF = "minimize.html">energy minimization</A>.
</P>
<P><B>Restrictions:</B>
</P>
<P>This fix is part of the "granular" package.  It is only enabled if
LAMMPS was built with that package.  See the <A HREF = "Section_start.html#2_3">Making
LAMMPS</A> section for more info.
</P>
<P>Any dimension (xyz) that has a granular wall must be non-periodic.
</P>
<P><B>Related commands:</B>
</P>
<P><A HREF = "fix_wiggle.html">fix_wiggle</A>
</P>
<P><B>Default:</B> none
</P>
</HTML>
