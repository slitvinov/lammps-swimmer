"LAMMPS WWW Site"_lws - "LAMMPS Documentation"_ld - "LAMMPS Commands"_lc :c

:link(lws,http://lammps.sandia.gov)
:link(ld,Manual.html)
:link(lc,Section_commands.html#comm)

:line

fix wall/gran command :h3

[Syntax:]

fix ID group-ID wall/gran wallstyle args keyword values ... :pre

ID, group-ID are documented in "fix"_fix.html command :ulb,l
wall/gran = style name of this fix command :l
style = {xplane} or {yplane} or {zplane} or {zcylinder} :l
args = list of arguments for a particular style :l
  {xplane} or {yplane} or {zplane} args = lo hi gamma xmu
    lo,hi = position of lower and upper plane (distance units), either can be NULL)
    gamman = damping coeff for normal direction collisions with wall
    xmu = friction coeff for the wall
  {zcylinder} args = radius gamma xmu
    radius = cylinder radius (distance units)
    gamman = damping coeff for normal direction collisions with wall
    xmu = friction coeff for the wall :pre
zero or more keyword/value pairs may be appended to args :l
keyword = {wiggle} or {shear} :l
  {wiggle} values = dim amplitude period
    dim = {x} or {y} or {z}
    amplitude = size of oscillation (distance units)
    period = time of oscillation (time units)
  {shear} values = dim vshear
    dim = {x} or {y} or {z}
    vshear = magnitude of shear velocity (velocity units) :pre
:ule

[Examples:]

fix 1 all wall/gran xplane -10.0 10.0 50.0 0.5
fix 2 all wall/gran zcylinder 15.0 50.0 0.5 wiggle z 3.0 2.0
fix 1 all wall/gran zplane 0.0 NULL 100.0 0.5 :pre

[Description:]

Bound the simulation domain of a granular system with a frictional
wall.  All particles in the group interact with the wall when they are
close enough to touch it.

The {wallstyle} can be planar or cylindrical.  The 3 planar options
specify a pair of walls in a dimension.  Wall positions are given by
{lo} and {hi}.  Either of the values can be specified as NULL if a
single wall is desired.  For a {zcylinder} wallstyle, the cylinder's
axis is at x = y = 0.0, and the radius of the cylinder is specified.
For all wallstyles, a damping and friction coefficient for
particle-wall interactions are also specified.

Optionally, the wall can be moving, if the {wiggle} or {shear}
keywords are appended.  Both keywords cannot be used together.

For the {wiggle} keyword, the wall oscillates sinusoidally, similar to
the oscillations of frozen particles specified by the
"fix_wiggle"_fix_wiggle.html command.  This is useful in packing
simulations of granular particles.  The arguments to the {wiggle}
keyword specify a dimension for the motion, as well as it's
{amplitude} and {period}.  Note that if the dimension is in the plane
of the wall, this is effectively a shearing motion.  If the dimension
is perpendicular to the wall, it is more of a shaking motion.  A
{zcylinder} wall can only be wiggled in the z dimension.

Each timestep, the position of a wiggled wall in the appropriate {dim}
is set according to this equation:

position = pos0 + A - A cos (omega * delta) :pre

where {pos0} is the position at the time the fix was specified, {A} is
the {amplitude}, {omega} is 2 PI / {period}, and {delta} is the
elapsed time since the fix was specified.  The velocity of the wall is
set to the derivative of this expression.

For the {shear} keyword, the wall moves continuously in the specified
dimension with velocity {vshear}.  The dimension must be tangential to
walls with a planar {wallstyle}, e.g. in the {y} or {z} directions for
an {xplane} wall.  For {zcylinder} walls, a dimension of {z} means the
cylinder is moving in the z-direction along it's axis.  A dimension of
{x} or {y} means the cylinder is spinning around the z-axis, either in
the clockwise direction for {vshear} > 0 or counter-clockwise for
{vshear} < 0.  In this case, {vshear} is the tangential velocity of
the wall at whatever {radius} has been defined.

[Restart, fix_modify, output, run start/stop, minimize info:]

This fix writes the shear friction state of atoms interacting with the
wall to "binary restart files"_restart.html, so that a simulation can
continue correctly if granular potentials with shear "history" effects
are being used.  See the "read_restart"_read_restart.html command for
info on how to re-specify a fix in an input script that reads a
restart file, so that the operation of the fix continues in an
uninterrupted fashion.

None of the "fix_modify"_fix_modify.html options are relevant to this
fix.  No global scalar or vector or per-atom quantities are stored by
this fix for access by various "output
commands"_Section_howto.html#4_15.  No parameter of this fix can be
used with the {start/stop} keywords of the "run"_run.html command.
This fix is not invoked during "energy minimization"_minimize.html.

[Restrictions:]

This fix is part of the "granular" package.  It is only enabled if
LAMMPS was built with that package.  See the "Making
LAMMPS"_Section_start.html#2_3 section for more info.

Any dimension (xyz) that has a granular wall must be non-periodic.

[Related commands:]

"fix_wiggle"_fix_wiggle.html

[Default:] none
