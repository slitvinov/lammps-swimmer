<HTML>
<CENTER><A HREF = "http://lammps.sandia.gov">LAMMPS WWW Site</A> - <A HREF = "Manual.html">LAMMPS Documentation</A> - <A HREF = "Section_commands.html#comm">LAMMPS Commands</A> 
</CENTER>






<HR>

<H3>atom_modify command 
</H3>
<P><B>Syntax:</B>
</P>
<PRE>atom_modify keyword value ... 
</PRE>
<UL><LI>one or more keyword/value pairs may be appended 

<LI>keyword = <I>map</I> or <I>first</I> 

<PRE>  <I>map</I> value = <I>array</I> or <I>hash</I>
  <I>first</I> value = group-ID = group whose atoms will appear first in internal atom lists 
</PRE>

</UL>
<P><B>Examples:</B>
</P>
<PRE>atom_modify map hash
atom_modify first colloid 
</PRE>
<P><B>Description:</B>
</P>
<P>Modify properties of the atom style selected within LAMMPS.
</P>
<P>The <I>map</I> keyword determines how atom ID lookup is done for molecular
problems.  Lookups are performed by bond (angle, etc) routines in
LAMMPS to find the local atom index associated with a global atom ID.
When the <I>array</I> value is used, each processor stores a lookup table
of length N, where N is the total # of atoms in the system.  This is
the fastest method for most simulations, but a processor can run out
of memory to store the table for very large simulations.  The <I>hash</I>
value uses a hash table to perform the lookups.  This method can be
slightly slower than the <I>array</I> method, but its memory cost is
proportional to N/P on each processor, where P is the total number of
processors running the simulation.
</P>
<P>The <I>first</I> keyword allows a <A HREF = "group.html">group</A> to be specified whose
atoms will be maintained as the first atoms in each processor's list
of owned atoms.  This in only useful when the specified group is a
small fraction of all the atoms, and there are other operations LAMMPS
is performing that will be sped-up significantly by being able to loop
over the smaller set of atoms.  Otherwise the reordering required by
this option will be a net slow-down.  The <A HREF = "neigh_modify.html">neigh_modify
include</A> and <A HREF = "communicate.html">communicate group</A>
commands are two examples of commands that require this setting to
work efficiently.  Several <A HREF = "fix.html">fixes</A>, most notably time
integration fixes like <A HREF = "fix_nve.html">fix nve</A>, also take advantage of
this setting if the group they operate on is the group specified by
this command.
</P>
<P>Note that because the atom_modify command must be used in an input
script before a simulation is setup and groups are defined, this means
the <I>first</I> keyword will specify a group that is not yet defined.
This is OK; LAMMPS will check that the group exists before the first
simulation is performed.
</P>
<P><B>Restrictions:</B>
</P>
<P>This command must be used before the simulation box is defined by a
<A HREF = "read_data.html">read_data</A> or <A HREF = "create_box.html">create_box</A> command.
</P>
<P><B>Related commands:</B> none
</P>
<P><B>Default:</B>
</P>
<P>By default, atomic (non-molecular) problems do not allocate maps.  For
molecular problems, the option default is map = array.  By default, a
"first" group is not defined.
</P>
</HTML>
