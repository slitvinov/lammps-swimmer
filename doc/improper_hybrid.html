<HTML>
<CENTER><A HREF = "http://lammps.sandia.gov">LAMMPS WWW Site</A> - <A HREF = "Manual.html">LAMMPS Documentation</A> - <A HREF = "Section_commands.html#comm">LAMMPS Commands</A> 
</CENTER>






<HR>

<H3>improper_style hybrid command 
</H3>
<H3>improper_style hybrid/omp command 
</H3>
<P><B>Syntax:</B>
</P>
<PRE>improper_style hybrid style1 style2 ... 
</PRE>
<UL><LI>style1,style2 = list of one or more improper styles 
</UL>
<P><B>Examples:</B>
</P>
<PRE>improper_style hybrid harmonic helix
improper_coeff 1 harmonic 120.0 30
improper_coeff 2 cvff 20.0 -1 2 
</PRE>
<P><B>Description:</B>
</P>
<P>The <I>hybrid</I> style enables the use of multiple improper styles in one
simulation.  An improper style is assigned to each improper type.  For
example, impropers in a polymer flow (of improper type 1) could be
computed with a <I>harmonic</I> potential and impropers in the wall
boundary (of improper type 2) could be computed with a <I>cvff</I>
potential.  The assignment of improper type to style is made via the
<A HREF = "improper_coeff.html">improper_coeff</A> command or in the data file.
</P>
<P>In the improper_coeff command, the first coefficient sets the improper
style and the remaining coefficients are those appropriate to that
style.  In the example above, the 2 improper_coeff commands would set
impropers of improper type 1 to be computed with a <I>harmonic</I>
potential with coefficients 120.0, 30 for K, X0.  Improper type 2
would be computed with a <I>cvff</I> potential with coefficients 20.0, -1,
2 for K, d, n.
</P>
<P>If the improper <I>class2</I> potential is one of the hybrid styles, it
requires additional AngleAngle coefficients be specified in the data
file.  These lines must also have an additional "class2" argument
added after the improper type.  For improper types which are assigned
to other hybrid styles, use the style name (e.g. "harmonic")
appropriate to that style.  The AngleAngle coeffs for that improper
type will then be ignored.
</P>
<P>An improper style of <I>none</I> can be specified as the 2nd argument to
the improper_coeff command, if you desire to turn off certain improper
types.
</P>
<HR>

<P>Styles with a <I>cuda</I>, <I>gpu</I>, <I>omp</I>, or <I>opt</I> suffix are functionally
the same as the corresponding style without the suffix.  They have
been optimized to run faster, depending on your available hardware,
as discussed in <A HREF = "Section_accelerate.html">this section</A> of the manual.
</P>
<P>Since the <I>hybrid</I> style delegates computation to the individual 
sub-styles, the suffix versions of the <I>hybrid</I> styles are used 
to propagate the corresponding suffix to all sub-styles, if those
accelerated versions exist. Otherwise the non-accelerated version
will be used.
</P>
<P>The individual accelerated sub-styles are part of the USER-CUDA, GPU,
USER-OMP and OPT packages, respectively.  They are only enabled if
LAMMPS was built with those packages.  See the
<A HREF = "Section_start.html#start_3">Making LAMMPS</A> section for more info.
</P>
<P>You can specify the accelerated styles explicitly in your input script
by including their suffix, or you can use the <A HREF = "Section_start.html#start_6">-suffix command-line
switch</A> when you invoke LAMMPS, or you can
use the <A HREF = "suffix.html">suffix</A> command in your input script.
</P>
<P>See <A HREF = "Section_accelerate.html">this section</A> of the manual for more
instructions on how to use the accelerated styles effectively.
</P>
<HR>

<P><B>Restrictions:</B>
</P>
<P>This improper style can only be used if LAMMPS was built with the
MOLECULAR package (which it is by default).  See the <A HREF = "Section_start.html#start_3">Making
LAMMPS</A> section for more info on packages.
</P>
<P>Unlike other improper styles, the hybrid improper style does not store
improper coefficient info for individual sub-styles in a <A HREF = "restart.html">binary
restart files</A>.  Thus when retarting a simulation from a
restart file, you need to re-specify improper_coeff commands.
</P>
<P><B>Related commands:</B>
</P>
<P><A HREF = "improper_coeff.html">improper_coeff</A>
</P>
<P><B>Default:</B> none
</P>
</HTML>
