"LAMMPS WWW Site"_lws - "LAMMPS Documentation"_ld - "LAMMPS Commands"_lc :c

:link(lws,http://lammps.sandia.gov)
:link(ld,Manual.html)
:link(lc,Section_commands.html#comm)

:line

fix msd command :h3

[Syntax:]

fix ID group-ID msd N file keyword value ... :pre

ID, group-ID are documented in "fix"_fix.html command :ulb,l
msd = style name of this fix command :l
N = compute mean-squared displacement every this many timesteps :l
file = filename to write mean-squared displacement info to :l
zero or more keyword/value pairs may be appended :l
keyword = {com} :l
  {com} value = {yes} or {no} :pre
:ule

[Examples:]

fix 1 all msd 100 diff.out
fix 1 all msd 1000 diff.out com yes :pre

[Description:]

Compute the mean-squared displacement (MSD) of the group of atoms
every N steps, including all effects due to atoms passing thru
periodic boundaries.  The MSD is the square of the displacement of
each atom, averaged over all the atoms in the group.  The displacement
of an atom is from its original position at the time the fix command
was issued.  The slope of the mean-squared displacement versus time is
proportional to the diffusion coefficient of the diffusing atoms.

The MSD values versus time are written to the specified file.

IMPORTANT NOTE: If an atom is part of a rigid body (see the "fix
rigid"_fix_rigid.html command), it's periodic image flags are altered,
and the computed MSD will not reflect its true displacement.  See the
"fix rigid"_fix_rigid.html command for details.  Thus, to compute the
MSD of rigid bodies as they cross periodic boundaries, you will need
to post-process a "dump file"_dump.html containing coordinates of the
atoms in the bodies.

If the {com} option is set to {yes} then the effect of any drift
in the center-of-mass of the group of atoms is subtracted out before
the displacment of each atom is calcluated.

[Restart, fix_modify, output, run start/stop, minimize info:]

This fix writes the original coordinates of diffusing atoms to "binary
restart files"_restart.html, so that the mean-squared displacement
will be accurate in a restarted simulation.  See the
"read_restart"_read_restart.html command for info on how to re-specify
a fix in an input script that reads a restart file, so that the
operation of the fix continues in an uninterrupted fashion.

None of the "fix_modify"_fix_modify.html options are relevant to this
fix.  No global scalar or vector or per-atom quantities are stored by
this fix for access by various "output
commands"_Section_howto.html#4_15.  No parameter of this fix can be
used with the {start/stop} keywords of the "run"_run.html command.
This fix is not invoked during "energy minimization"_minimize.html.

[Restrictions:] none

[Related commands:]

"fix coord/original"_fix_coord_original.html

[Default:]

The option default is com = no.
